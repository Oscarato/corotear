<ion-view title="main" hide-nav-bar="true" id="page11" >
    <div style="background-color:#0054a6; height:70px">
        <h3 id="main-heading5" class="text-darken-2 center-align" style="color:white; padding-top:10px">Mis Corotos</h3>
    </div>
    <div style="width:100% ;background-color:#0054a6; height:40px">
        <ul class="tabs" style="z-index: 1;">
            <li class="tab col s3"><a ng:click="coroteo = false;coroteo_call()" class="active" style="color: white;">Corotíe</a></li>
            <li class="tab col s3"><a ng:click="coroteo = true;corotie_call()" style="color: white;">Coroteando</a></li>
        </ul>
    </div>
    <ion-content padding="true" class="manual-ios-statusbar-padding" style="margin-top:75px">        
        <!-- Coroteo -->
        <div id="test1" class="col s12" ng:show="!coroteo">
            <br />
            <p style="font-family:'Myriad Pro Bold Italic'">En esta seccion puedes ver los productos que te han interesado y su estado</p>

            <div style="overflow: hidden;overflow-y: scroll; overflow-x: hidden; height: 330px;">

                <div class="row" style="background: #e2e4e7;" ng:repeat="coroto in myCorotos">
                    <div class="col s12" >
                        <div class="col s6" style="text-align: center; ">
                            <img width="100" height="130" ng-src="{{coroto.images.split(' ')[0]}}" onError="this.src='img/Imagen_no_disponible.jpg';" ng:click="selecImg(coroto)">
                        </div>

                        <div class="col s6">
                            <p><b>Nombre:</b> {{coroto.name}}</p>
                            <p><b>Propietario:</b> {{coroto.nombre}}</p>
                            <p><b>Estado:</b> {{coroto.estado}} </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- Corotíe -->
        <div id="test2" class="col s12" ng:show="coroteo">
            <br />
            <p style="font-family:'Myriad Pro Bold Italic'">En esta seccion puedes ver los productos que deseas regalar o intercambiar</p>
            <div style="overflow: hidden;overflow-y: scroll; overflow-x: hidden; height: 330px;">

                <div class="row" style="background: #e2e4e7;" ng:repeat="pro in myProductos track by $index" >
                    <div class="col s12" ng:click="pro.interesado > 0 ? show_intere('modal_interes', pro.Id_product):null">
                        <div class="col s6" >
                            <img width="100" height="130" ng-src="{{pro.Images.split(' ')[0]}}" onError="this.src='img/Imagen_no_disponible.jpg';">
                        </div>
                        <div class="col s6" >
                            <p><b>Nombre:</b> {{pro.Name}}</p>
                            <p><b>Descripcion:</b> {{pro.Detail}}</p>
                            <p><b>Cantidad de Interesado:</b> <b>{{pro.interesado}}</b></p>
                            
                        </div>
                        <!--
                        <div class="col s6">
                            <div class="chip" ng:repeat="int in pro.interesed" ng:click="show_modal('myModal', int)">
                              <img src="{{int.picture}}" alt="Contact Person">
                              {{int.name}}
                            </div>
                        </div>
                        -->
                    </div>
                </div>
                
            </div>
        </div>

        <!-- The Modal -->
        <div id="modal_interes" class="modal_other">
            <!-- Modal content -->
            <div class="modal_other-content">
                <div class="modal-header">
                    <span class="close_other" id="close_other_interes">&times;</span>
                    <h5>Personas Interesadas</h5>
                </div>
                <div class="modal-body" style="max-height: 250px;overflow: auto">

                    <div class="row" ng:repeat="interes in Interested" ng:click="show_det_inter('myModal', interes)">
                        <div class="col s12">
                            <div class="col s6"> <img ng-src="{{interes.photo}}" onError="this.src='img/Imagen_no_disponible.jpg';" width="50"  ></div>
                            <div class="col s6"><b>Nombre</b>: {{interes.Nombre}}</div>
                            <div class="col s12"><b>Descripcion</b>: {{interes.descripcion}}</div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer center-align">
                    <div class="row">
                        <div class="col s12">
                            <button class="btn blue" ng:click="close_modal('modal_interes')">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- The Modal -->
        <div id="myModal" class="modal_other">
            <!-- Modal content -->
            <div class="modal_other-content">
                <div class="modal-header">
                    <span class="close_other" id="close_other">&times;</span>
                    <h5>Persona Interesada</h5>
                </div>
                <div class="modal-body">
                    <p> <img ng-src="{{detail_inter.photo}}" width="50" onError="this.src='img/Imagen_no_disponible.jpg';"  ></p>
                    <p><b>Nombre</b>: {{detail_inter.Nombre}}</p>
                    <p><b>Descripcion</b>: {{detail_inter.descripcion}}</p>
                </div>
                <div class="modal-footer center-align">
                    <div class="row">
                        <button style="width: 150px" class="btn red" ng:click="declinar('myModal', detail_inter.Id_usuario )">Declinar</button>
                    </div>
                    <div class="row">
                        <button style="width: 150px" class="btn" ng:click="aceptar('myModal', detail_inter.Id_usuario)">Aceptar</button>
                    </div>
                </div>
            </div>
        </div>
        
  </ion-content>
</ion-view>

<style>

/* The Modal (background) */
.modal_other {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: #387ef5; /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* modal_other Content/Box */
.modal_other-content {
    position: relative;
    background-color: #fefefe;
    margin: auto;
    padding: 0;
    border: 1px solid #888;
    width: 80%;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
    -webkit-animation-name: animatetop;
    -webkit-animation-duration: 0.4s;
    animation-name: animatetop;
    animation-duration: 0.4s
}

/* Add Animation */
@-webkit-keyframes animatetop {
    from {top:-300px; opacity:0} 
    to {top:0; opacity:1}
}

@keyframes animatetop {
    from {top:-300px; opacity:0}
    to {top:0; opacity:1}
}

/* The Close Button */
.close_other {
    color: white;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close_other:hover,
.close_other:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

.modal-header {
    padding: 2px 16px;
    background-color: #387ef5;
    color: white;
}

.modal-body {padding: 2px 16px;}

.modal-footer {
    padding: 2px 16px;
}

</style>